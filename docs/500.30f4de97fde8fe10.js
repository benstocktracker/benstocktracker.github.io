"use strict";(self.webpackChunkBenStockTracker=self.webpackChunkBenStockTracker||[]).push([[500],{500:(ct,h,i)=>{i.r(h),i.d(h,{PortfolioModule:()=>it});var p=i(9808),v=i(3075),y=i(6552),w=i(4620),u=i(1083),t=i(5e3),m=i(3251),r=i(4999),S=i(9062),f=i(4847),d=i(1777),x=i(7261),g=i(520),_=i(4195),k=i(7322),b=i(7531),Z=i(7423),R=i(5245),T=i(1133),D=i(9646),P=i(5625),O=i(262);let M=(()=>{class e{constructor(o,n){this.http=o,this.snackBar=n,this.backendServerUrl="http://127.0.0.1:5000",this.httpOptions={headers:(new g.WM).set("content-type","application/json").set("Access-Control-Allow-Origin","*")}}showSnackBar(o){this.snackBar.open(o,"Dismiss",{duration:3e3,horizontalPosition:"right",verticalPosition:"top"})}error(o){let n=o.error instanceof ErrorEvent?o.error.message:`Error Code: ${o.status}\nMessage: ${o.message}`;return this.showSnackBar(n),(0,D.of)({data:[],message:n,status:500})}wrapHttpCall(o){return o.pipe((0,P.X)(2),(0,O.K)(this.error))}load(o){const n=this.http.get([this.backendServerUrl,"load",o].join("/"),this.httpOptions);return this.wrapHttpCall(n)}dump(o,n){const c=this.http.post([this.backendServerUrl,"dump",o].join("/"),n,this.httpOptions);return this.wrapHttpCall(c)}loadHoldings(){const o=this.http.get("assets/holdings.json");return this.wrapHttpCall(o)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(g.eN),t.LFG(x.ux))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var A=i(4834),F=i(9950),$=i(1791),Q=i(1948),J=i(4350),B=i(8894);function N(e,s){if(1&e&&(t.ynx(0),t.TgZ(1,"h3"),t._uU(2),t.ALo(3,"currency"),t.ALo(4,"currency"),t.qZA(),t.BQk()),2&e){const o=s.$implicit;t.xp6(2),t.HOy(" The ",o.account," account holds ",o.sharesOwned," shares, bought for ",t.lcZ(3,4,o.costAverage)," per share. Total cost was ",t.lcZ(4,6,o.costBasis),". ")}}let U=(()=>{class e{constructor(o,n){this.stocksService=o,this.crudService=n,this.callCount=0}ngOnInit(){this.stocksService.loadStockResource(this.stockStats.symbol,"news").subscribe(o=>{this.stockNews=Object.values(o.data).sort((n,c)=>c.providerPublishTime-n.providerPublishTime)}),this.crudService.load("holdings").subscribe(o=>{200===o.status&&(this.holdings=o.data[this.stockStats.symbol])})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(T.T),t.Y36(M))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-stocks-details"]],inputs:{stockStats:"stockStats"},decls:14,vars:7,consts:[["mat-align-tabs","center"],["label","Chart"],[3,"symbol"],["label","Stats"],[3,"stockStats"],["label","financials"],["label","News"],[3,"news"],["label","Company"],[3,"symbol","profile"],["label","Holdings"],[4,"ngFor","ngForOf"]],template:function(o,n){1&o&&(t._UZ(0,"mat-divider"),t.TgZ(1,"mat-tab-group",0)(2,"mat-tab",1),t._UZ(3,"app-stock-chart-panel",2),t.qZA(),t.TgZ(4,"mat-tab",3),t._UZ(5,"app-stock-stats-panel",4),t.qZA(),t.TgZ(6,"mat-tab",5),t._UZ(7,"app-stock-financials-panel",2),t.qZA(),t.TgZ(8,"mat-tab",6),t._UZ(9,"app-stock-news-panel",7),t.qZA(),t.TgZ(10,"mat-tab",8),t._UZ(11,"app-stock-profile-panel",9),t.qZA(),t.TgZ(12,"mat-tab",10),t.YNc(13,N,5,8,"ng-container",11),t.qZA()()),2&o&&(t.xp6(3),t.Q6J("symbol",n.stockStats.symbol),t.xp6(2),t.Q6J("stockStats",n.stockStats),t.xp6(2),t.Q6J("symbol",n.stockStats.symbol),t.xp6(2),t.Q6J("news",n.stockNews),t.xp6(2),t.Q6J("symbol",n.stockStats.symbol)("profile",n.stockStats.summaryProfile),t.xp6(2),t.Q6J("ngForOf",n.holdings))},directives:[A.d,m.SP,m.uX,F.S,$.g,Q.M,J.g,B.l,p.sg],pipes:[p.H9],styles:["mat-tab-group[_ngcontent-%COMP%]{padding-bottom:20px}"]}),e})();const Y=["singleQuoteWidget"];function H(e,s){if(1&e&&(t.TgZ(0,"th",23),t._uU(1),t.qZA()),2&e){const o=t.oxw().index,n=t.oxw();t.xp6(1),t.Oqu(n.headers[o])}}function j(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"div",28),t.NdJ("click",function(){t.CHM(o);const c=t.oxw().$implicit;return t.oxw(2).expandRow(c)}),t._uU(1),t.qZA()}if(2&e){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.symbol," ")}}function I(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"div")(1,"button",29)(2,"mat-icon",30),t.NdJ("click",function(){t.CHM(o);const c=t.oxw().$implicit;return t.oxw(2).expandRow(c)}),t._uU(3),t.qZA()()()}if(2&e){const o=t.oxw(3);t.xp6(3),t.Oqu(o.expandedRow?"expand_less":"expand_more")}}const C=function(e){return{color:e}};function E(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"span",31),t.NdJ("click",function(){t.CHM(o);const c=t.oxw().$implicit;return t.oxw(2).expandRow(c)}),t._uU(1),t.qZA()}if(2&e){const o=t.oxw().$implicit,n=t.oxw().index,c=t.oxw();t.Q6J("ngStyle",t.VKq(2,C,c.getColColor(o,n))),t.xp6(1),t.hij(" ",c.cells[n](o)," ")}}function G(e,s){if(1&e&&(t.TgZ(0,"td",24),t.YNc(1,j,2,1,"div",25),t.YNc(2,I,4,1,"div",26),t.YNc(3,E,2,4,"ng-template",null,27,t.W1O),t.qZA()),2&e){const o=t.MAs(4),n=t.oxw().index;t.xp6(1),t.Q6J("ngIf",0===n)("ngIfElse",o),t.xp6(1),t.Q6J("ngIf",14===n)}}function z(e,s){if(1&e&&(t.TgZ(0,"td",32),t._uU(1),t.qZA()),2&e){const o=t.oxw().index,n=t.oxw();t.Q6J("ngStyle",t.VKq(2,C,"-"===n.footerRow[o]()[1]?"tomato":"forestgreen")),t.xp6(1),t.hij(" ",n.footerRow[o]()," ")}}function X(e,s){if(1&e&&(t.ynx(0,20),t.YNc(1,H,2,1,"th",21),t.YNc(2,G,5,3,"td",14),t.YNc(3,z,2,4,"td",22),t.BQk()),2&e){const n=s.index;t.Q6J("matColumnDef",s.$implicit)("sticky",0===n)}}function L(e,s){if(1&e&&t._UZ(0,"app-stocks-details",35),2&e){const o=t.oxw().$implicit;t.Q6J("stockStats",o.stats)}}function V(e,s){if(1&e&&(t.TgZ(0,"td",24)(1,"div",33),t.YNc(2,L,1,1,"app-stocks-details",34),t.qZA()()),2&e){const o=s.$implicit,n=t.oxw();t.uIk("colspan",n.columnDefs.length),t.xp6(1),t.Q6J("@detailExpand",o===n.expandedRow?"expanded":"collapsed"),t.xp6(1),t.Q6J("ngIf",n.expandedRow&&n.expandedRow.symbol===o.symbol)}}function W(e,s){1&e&&t._UZ(0,"tr",36)}function K(e,s){if(1&e&&t._UZ(0,"tr",37),2&e){const o=s.$implicit,n=t.oxw();t.ekj("example-expanded-row",n.expandedRow===o)}}function q(e,s){1&e&&t._UZ(0,"tr",38)}function tt(e,s){1&e&&t._UZ(0,"tr",39)}function ot(e,s){if(1&e&&(t.TgZ(0,"tr",40)(1,"td",41),t._uU(2),t.qZA()()),2&e){t.oxw();const o=t.MAs(12);t.xp6(2),t.hij(" Wow! No data matching the filter. ",o.value," ")}}const et=function(){return["expandedRow"]};let nt=(()=>{class e{constructor(o,n,c){this.activatedRoute=o,this.snackBar=n,this.http=c,this.today=new Date,this.holdings={},this.stocksData=[],this.dataSource=new r.by,this.columnDefs=["symbol","sharesOwned","costAverage","costBasis","marketValue","gainLoss","glPercent","yield","yieldPercent","yieldOnCost","payoutRatio","exDivDate","sector","analysis","actions"],this.headers=["Symbol","Shares Owned","Cost Average","Cost Basis","Market Value","Gain","Gain %","Yield","Yield %","Yield on Cost","Payout Ratio","Ex-Div Date","Sector","Analysis",""],this.cells=[a=>a.symbol,a=>a.sharesOwned,a=>`$${a.costAverage.toFixed(2)}`,a=>`$${a.costBasis.toFixed(2)}`,a=>`$${a.marketValue.toFixed(2)}`,a=>`$${a.gainLoss.toFixed(2)}`,a=>`${a.glPercent.toFixed(2)}%`,a=>`$${a.yield.toFixed(2)}`,a=>`${a.yieldPercent.toFixed(2)}%`,a=>`${a.yieldOnCost.toFixed(2)}%`,a=>`${a.payoutRatio.toFixed(2)}%`,a=>`${a.exDivDate}`,a=>a.sector,a=>a.analysis.toUpperCase(),a=>""],this.footerRow=[()=>"",()=>"",()=>"",()=>`$${this.dataSource.data.map(a=>a.sharesOwned*a.costAverage).reduce((a,l)=>a+l,0).toFixed(2)}`,()=>`$${this.dataSource.data.map(a=>a.sharesOwned*a.marketPrice).reduce((a,l)=>a+l,0).toFixed(2)}`,()=>`$${this.dataSource.data.map(a=>(a.marketPrice-a.costAverage)*a.sharesOwned).reduce((a,l)=>a+l,0).toFixed(2)}`,()=>"",()=>`$${this.dataSource.data.map(a=>a.yield*a.sharesOwned).reduce((a,l)=>a+l,0).toFixed(2)}`,()=>"",()=>"",()=>"",()=>"",()=>"",()=>"",()=>""]}getColColor(o,n){switch(n){case 5:return"-"===this.cells[n](o)[1]?"tomato":"forestgreen";case 6:return"-"===this.cells[n](o)[0]?"tomato":"forestgreen";case 7:case 8:return"0%"!==this.cells[n](o)?"steelblue":"#191919";case 10:return o.payoutRatio>=50?"tomato":"#191919";case 13:return this.getAnalysisColor(o.analysis);default:return"#191919"}}getAnalysisColor(o){switch(o){case"strong buy":return"forestgreen";case"buy":return"limegreen";case"hold":return"steelblue";case"underperform":return"orange";case"sell":return"tomato";default:return"#191919"}}ngOnInit(){i.e(736).then(i.t.bind(i,8736,19)).then(o=>{this.dataSource.data=Object.values(o.default)}),this.http.get("../../../../assets/holdings.csv",{responseType:"text"}).subscribe(o=>{const n=o.split(/\r\n|\n/).slice(0,-1);n.shift().split(","),n.map(l=>(l=l.replace('"','"')).split(","))})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}showSnackBar(o,n="Dismiss"){return this.snackBar.open(o,n,{duration:3e3,horizontalPosition:"right",verticalPosition:"top"})}applyFilter(o){this.dataSource.filter=o.target.value}expandRow(o){this.expandedRow=this.expandedRow===o?null:o}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(u.gz),t.Y36(x.ux),t.Y36(g.eN))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-stocks"]],viewQuery:function(o,n){if(1&o&&(t.Gf(r.BZ,5),t.Gf(S.NW,5),t.Gf(f.YE,5),t.Gf(Y,5)),2&o){let c;t.iGM(c=t.CRH())&&(n.table=c.first),t.iGM(c=t.CRH())&&(n.paginator=c.first),t.iGM(c=t.CRH())&&(n.sort=c.first),t.iGM(c=t.CRH())&&(n.singleQuoteWidget=c.first)}},decls:23,vars:14,consts:[[1,"container-header"],[1,"summary"],["icon","paid","subtitle","Market Value",3,"value"],["icon","paid","subtitle","Investment",3,"value"],["icon","paid","subtitle","Unrealized Gain/Lost",3,"value","color"],["icon","paid","subtitle","Dividend Income","color","steelblue",3,"value"],[1,"table-actions"],["appearance","standard"],["matInput","",3,"keyup"],["input",""],[1,"table-container"],["mat-table","","matSort","","multiTemplateDataRows","",1,"mat-elevation-z8",3,"dataSource"],[3,"matColumnDef","sticky",4,"ngFor","ngForOf"],["matColumnDef","expandedRow"],["mat-cell","",4,"matCellDef"],["mat-header-row","","class","table-header",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","class","stock-row",3,"example-expanded-row",4,"matRowDef","matRowDefColumns"],["mat-row","","class","expanded-stock-row",4,"matRowDef","matRowDefColumns"],["mat-footer-row","","class","table-footer",4,"matFooterRowDef","matFooterRowDefSticky"],["class","mat-row",4,"matNoDataRow"],[3,"matColumnDef","sticky"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-footer-cell","",3,"ngStyle",4,"matFooterCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["class","table-col-0",3,"click",4,"ngIf","ngIfElse"],[4,"ngIf"],["elseBlock",""],[1,"table-col-0",3,"click"],["mat-button","","color","primary"],[1,"material-icons-round",3,"click"],[3,"ngStyle","click"],["mat-footer-cell","",3,"ngStyle"],[1,"expanded-stock-detail"],[3,"stockStats",4,"ngIf"],[3,"stockStats"],["mat-header-row","",1,"table-header"],["mat-row","",1,"stock-row"],["mat-row","",1,"expanded-stock-row"],["mat-footer-row","",1,"table-footer"],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(o,n){1&o&&(t.ynx(0),t.TgZ(1,"div",0)(2,"header",1),t._UZ(3,"app-stat-card",2)(4,"app-stat-card",3)(5,"app-stat-card",4)(6,"app-stat-card",5),t.qZA(),t.TgZ(7,"div",6)(8,"mat-form-field",7)(9,"mat-label"),t._uU(10,"Filter"),t.qZA(),t.TgZ(11,"input",8,9),t.NdJ("keyup",function(a){return n.applyFilter(a)}),t.qZA()()()(),t.TgZ(13,"div",10)(14,"table",11),t.YNc(15,X,4,2,"ng-container",12),t.ynx(16,13),t.YNc(17,V,3,3,"td",14),t.BQk(),t.YNc(18,W,1,0,"tr",15),t.YNc(19,K,1,2,"tr",16),t.YNc(20,q,1,0,"tr",17),t.YNc(21,tt,1,0,"tr",18),t.YNc(22,ot,3,1,"tr",19),t.qZA()(),t.BQk()),2&o&&(t.xp6(3),t.Q6J("value",n.footerRow[4]()),t.xp6(1),t.Q6J("value",n.footerRow[3]()),t.xp6(1),t.Q6J("value",n.footerRow[5]())("color","-"===n.footerRow[6]()[1]?"tomato":"forestgreen"),t.xp6(1),t.Q6J("value",n.footerRow[7]()),t.xp6(8),t.Q6J("dataSource",n.dataSource),t.xp6(1),t.Q6J("ngForOf",n.columnDefs),t.xp6(3),t.Q6J("matHeaderRowDef",n.columnDefs)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",n.columnDefs),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(13,et)),t.xp6(1),t.Q6J("matFooterRowDef",n.columnDefs)("matFooterRowDefSticky",!0))},directives:[_.i,k.KE,k.hX,b.Nt,r.BZ,f.YE,p.sg,r.w1,r.fO,r.ge,f.nU,r.Dz,r.ev,p.O5,Z.lW,R.Hw,p.PC,r.mD,r.yh,U,r.as,r.XQ,r.nj,r.Gk,r.Ke,r.Q2,r.Ee],styles:[".container-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end}.summary[_ngcontent-%COMP%]{display:flex;align-items:center}.table-actions[_ngcontent-%COMP%]{display:flex;justify-content:right;align-items:center;margin-right:2%}.table-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;margin-top:10px}.table-col-0[_ngcontent-%COMP%]{display:flex;align-items:center;align-content:center;margin:0;padding:0}.table-col-3[_ngcontent-%COMP%], .table-col-8[_ngcontent-%COMP%]{width:max-content;margin-right:5px}.expanded-stock-detail[_ngcontent-%COMP%]{overflow:hidden;align-items:center}.table-header[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#191919}.mat-cell[_ngcontent-%COMP%]{padding-right:20px}.mat-row[_ngcontent-%COMP%]:not(.expanded-stock-row):hover   .mat-cell[_ngcontent-%COMP%]{font-weight:700}tr.expanded-stock-row[_ngcontent-%COMP%]{height:0}.single-quote-widget[_ngcontent-%COMP%]{height:90px;margin-right:10px}"],data:{animation:[(0,d.X$)("detailExpand",[(0,d.SB)("collapsed",(0,d.oB)({height:"0px",minHeight:"0"})),(0,d.SB)("expanded",(0,d.oB)({height:"*"})),(0,d.eR)("expanded <=> collapsed",(0,d.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}}),e})();const at=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-portfolio"]],decls:3,vars:0,consts:[["mat-align-tabs","left"],["label","Portfolio"]],template:function(o,n){1&o&&(t.TgZ(0,"mat-tab-group",0)(1,"mat-tab",1),t._UZ(2,"app-stocks"),t.qZA()())},directives:[m.SP,m.uX,nt],styles:[""]}),e})()}];let st=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[u.Bz.forChild(at)],u.Bz]}),e})(),it=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[p.ez,v.UX,st,y.i,w.q]]}),e})()}}]);